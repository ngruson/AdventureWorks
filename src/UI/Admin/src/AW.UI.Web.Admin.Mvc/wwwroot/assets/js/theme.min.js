/*
* HSCore
* @version: 4.1.0 (12 July, 2021)
* @author: HtmlStream
* @event-namespace: .HSCore
* @license: Htmlstream Libraries (https://htmlstream.com/licenses)
* Copyright 2021 Htmlstream
*/
"use strict";const HSCore={components:{},collection:{tooltips:[],popovers:[]},init:function(){const t=this,e=document.querySelectorAll('[data-bs-toggle="tooltip"]');for(let o=0;o<e.length;o+=1)t.collection.tooltips.push(new bootstrap.Tooltip(e[o]));const o=document.querySelectorAll('[data-bs-toggle="popover"]');for(let e=0;e<o.length;e+=1)t.collection.popovers.push(new bootstrap.Popover(o[e]));document.querySelectorAll("[data-bs-popover-dark]").forEach((function(t){t.addEventListener("click",(function(t){const e=document.querySelectorAll(".popover");e.length&&e[e.length-1].classList.add("popover-dark")}))}))},getTooltips:function(){return this.collection.tooltips},hideTooltips:function(){const t=this.getTooltips();for(let e=0;e<t.length;e+=1)t[e].hide()},getPopovers:function(){return this.collection.popovers},hidePopovers:function(){const t=this.getPopovers();for(let e=0;e<t.length;e+=1)t[e].hide()},disposePopovers:function(){const t=this.getPopovers();for(let e=0;e<t.length;e+=1)t[e].dispose()}};HSCore.init();const HSBsDropdown={init(t){this.setAnimations(),this.openOnHover()},scrollEvent:null,setAnimations(){window.addEventListener("show.bs.dropdown",(t=>{const e=t.target.closest(".table-responsive");e&&(this.scrollEvent=function(){new bootstrap.Dropdown(t.target).hide()},e.addEventListener("scroll",this.scrollEvent));if(!t.target.hasAttribute("data-bs-dropdown-animation"))return;const o=t.target.nextElementSibling;o.style.opacity=0,setTimeout((()=>{o.style.transform=`${o.style.transform} translateY(10px)`})),setTimeout((()=>{o.style.transform=`${o.style.transform} translateY(-10px)`,o.style.transition="transform 300ms, opacity 300ms",o.style.opacity=1}),100)})),window.addEventListener("hide.bs.dropdown",(t=>{const e=t.target.closest(".table-responsive");e&&e.removeEventListener("scroll",this.scrollEvent);if(!t.target.hasAttribute("data-bs-dropdown-animation"))return;const o=t.target.nextElementSibling;setTimeout((()=>{o.style.removeProperty("transform"),o.style.removeProperty("transition")}))}))},openOnHover(){Array.from(document.querySelectorAll("[data-bs-open-on-hover]")).forEach((t=>{var e;const o=new bootstrap.Dropdown(t);function i(){e=setTimeout((()=>{o.hide()}),500)}t.addEventListener("mouseenter",(()=>{clearTimeout(e),o.show()})),o._menu.addEventListener("mouseenter",(()=>{window.clearTimeout(e)})),Array.from([o._menu,t]).forEach((t=>t.addEventListener("mouseleave",i)))}))}}
/*
* Chart.js wrapper
* @version: 3.0.0 (Mon, 25 Nov 2021)
* @requires: Chart.js v2.8.0
* @author: HtmlStream
* @event-namespace: .HSCore.components.HSCharJS
* @license: Htmlstream Libraries (https://htmlstream.com/licenses)
* Copyright 2021 Htmlstream
*/;HSCore.components.HSChartJS={dataAttributeName:"data-hs-chartjs-options",defaults:{defaultThemeKey:"default",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1,mode:"nearest",prefix:"",postfix:"",hasIndicator:!1,indicatorWidth:"8px",indicatorHeight:"8px",transition:"0.2s",lineWithLineColor:null,yearStamp:!0}},gradientPosition:{x0:0,y0:0,x1:0,y1:0}}},collection:[],themes:{},init(t,e,o){const i=this;let n;n=t instanceof HTMLElement?[t]:t instanceof Object?t:document.querySelectorAll(t);for(let t=0;t<n.length;t+=1)i.addToCollection(n[t],e,o||n[t].id);if(!i.collection.length)return!1;window.addEventListener("on-hs-appearance-change",(t=>this._updateTheme(t.detail))),i._init()},addToCollection(t,e,o){this.collection.push({$el:t,id:o||null,options:e||{},dataSettings:t.hasAttribute(this.dataAttributeName)?JSON.parse(t.getAttribute(this.dataAttributeName)):{}})},addTheme(t,e,o){const i=t;this.themes.hasOwnProperty(i)?this.themes[i][e]=o:this.themes[i]={[e]:o}},getTheme(t,e){return this.themes[t]&&this.themes[t][e]||console.error(`The element '${t}' or theme '${e}' was not found in the HSChartjs theme list.`),this.themes[t][e]},getItems(){const t=this;let e=[];for(let o=0;o<t.collection.length;o+=1)e.push(t.collection[o].$initializedEl);return e},getItem(t){return"number"==typeof t?this.collection[t].$initializedEl:this.collection.find((e=>e.id===t)).$initializedEl},lineMode(t,e){"line"===e.type&&e.data.datasets.forEach((o=>{if(Array.isArray(o.backgroundColor)){var i=t.getContext("2d").createLinearGradient(e.options.gradientPosition.x0,e.options.gradientPosition.y0,e.options.gradientPosition.x1,e.options.gradientPosition.y1);for(let t=0;t<o.backgroundColor.length;t++)i.addColorStop(t,o.backgroundColor[t]);o.backgroundColor=i,o.fill=!0}}))},extendChart(t,e,o){function i(t){let e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX}}if("line"===e.type&&e.options.plugins.tooltip.lineMode){var n=o.draw;o.draw=function(t){if(n.call(this,t),this.tooltip._active&&this.tooltip._active.length){this.tooltip._active[0];let t=this.canvas,o=document.querySelector(".hs-chartjs-tooltip-wrap"),n=document.querySelector("#chartjsTooltipLine"),s=e.options.plugins.tooltip.lineWithLineTopOffset>=0?e.options.plugins.tooltip.lineWithLineTopOffset:7,l=e.options.plugins.tooltip.lineWithLineBottomOffset>=0?e.options.plugins.tooltip.lineWithLineBottomOffset:43,a=document.querySelector("#chartjsTooltip");if(a&&!document.querySelector("#chartjsTooltip #chartjsTooltipLine")&&a.insertAdjacentHTML("beforeend",'<div id="chartjsTooltipLine"></div>'),!o)return;o.style.top=t.clientHeight/2-o.clientHeight+"px",n&&(n.style.top=`${-(i(o).top-i(t).top)+s}px`);let r=document.querySelector(".hs-chartjs-tooltip");if(o.offsetLeft+o.clientWidth>t.offsetLeft+t.clientWidth-100){if(!r)return;r.classList.remove("hs-chartjs-tooltip-right"),r.classList.add("hs-chartjs-tooltip-left")}else{if(!r)return;r.classList.add("hs-chartjs-tooltip-right"),r.classList.remove("hs-chartjs-tooltip-left")}n&&(n.style.position="absolute",n.style.width="2px",n.style.height=t.clientHeight-l+"px",n.style.backgroundColor=e.options.plugins.tooltip.lineWithLineColor,n.style.left=0,n.style.transform="translateX(-50%)",n.style.zIndex=0,n.style.transition="100ms")}},t.addEventListener("touchstart",(()=>{const e=document.getElementById("chartjsTooltip");e&&e.previousElementSibling!==t&&e.remove()})),t.addEventListener("mouseleave",(()=>{let t=document.querySelector("#lineTooltipChartJSStyles");t&&t.setAttribute("media","max-width: 1px")})),t.addEventListener("mouseenter",(()=>{let t=document.querySelector("#lineTooltipChartJSStyles");t&&t.removeAttribute("media")})),t.addEventListener("mousemove",(e=>{let o=document.querySelector(".hs-chartjs-tooltip-wrap"),n=i(t);o&&e.pageY-n.top>o.clientHeight/2&&e.pageY-n.top+o.offsetHeight/2<t.clientHeight&&(document.querySelector(".hs-chartjs-tooltip").style.top=e.pageY+o.clientHeight/2-(n.top+t.clientHeight/2)+"px")}))}},extendOptions(t,e,o,i){const n=(t,e,o=!1)=>{t=(t=>{let e;try{e=JSON.parse(JSON.stringify(t))}catch(o){e=Object.assign({},t)}return e})(t);const i=t=>t&&"object"==typeof t;return i(t)&&i(e)?(Object.keys(e).forEach((s=>{const l=t[s],a=e[s];Array.isArray(l)&&Array.isArray(a)?o?(t[s]=l.map(((t,e)=>a.length<=e?t:n(t,a[e],o))),a.length>l.length&&(t[s]=t[s].concat(a.slice(l.length)))):t[s]=l.concat(a):i(l)&&i(a)?t[s]=n(Object.assign({},l),a,o):t[s]=a})),t):e};let s=n(this.defaults,n(o,e,!0),!0);s=this._setTheme(s,t.id||i);n(s,"line"===s.type?{options:{scales:{y:{ticks:{callback:(t,e,o)=>{var i=s.options.scales.y.ticks.metric||"",n=s.options.scales.y.ticks.prefix||"",l=s.options.scales.y.ticks.postfix||"";return i&&t>100&&(t=t<1e6?t/1e3+"k":t/1e6+"kk"),n&&l?n+t+l:n?n+t:l?t+l:t}}}},elements:{line:{borderWidth:3},point:{pointStyle:"circle",radius:5,hoverRadius:7,borderWidth:3,hoverBorderWidth:3,backgroundColor:"#ffffff",hoverBackgroundColor:"#ffffff"}}}}:"bar"===o.type?{options:{scales:{y:{ticks:{callback:(t,e,o)=>{var i=s.options.scales.y.ticks.metric,n=s.options.scales.y.ticks.prefix,l=s.options.scales.y.ticks.postfix;return i&&t>100&&(t=t<1e6?t/1e3+"k":t/1e6+"kk"),n&&l?n+t+l:n?n+t:l?t+l:t}}}}}}:{},!0);return s.options.plugins.tooltip?n(s,{options:{plugins:{tooltip:{external:function(e){var o=document.getElementById("chartjsTooltip");if(o||((o=document.createElement("div")).id="chartjsTooltip",o.style.opacity=0,o.classList.add("hs-chartjs-tooltip-wrap"),o.innerHTML='<div class="hs-chartjs-tooltip"></div>',this.options.lineMode?t.closest(".chartjs-custom").appendChild(o):document.body.appendChild(o)),0===e.tooltip.opacity)return o.style.opacity=0,void o.parentNode.removeChild(o);if(o.classList.remove("above","below","no-transform"),e.tooltip.yAlign?o.classList.add(e.tooltip.yAlign):o.classList.add("no-transform"),e.tooltip.body){var i=e.tooltip.title||[],n=e.tooltip.body.map((function(t){return t.lines})),s=new Date,l='<header class="hs-chartjs-tooltip-header">';i.forEach((t=>{l+=this.options.yearStamp?t+", "+s.getFullYear():t})),l+='</header><div class="hs-chartjs-tooltip-body">',n.forEach(((t,o)=>{l+="<div>";var i=t[0],n=i,s=e.tooltip.labelColors[o].backgroundColor instanceof Object?e.tooltip.labelColors[o].borderColor:e.tooltip.labelColors[o].backgroundColor;l+=(this.options.hasIndicator?'<span class="d-inline-block rounded-circle me-1" style="width: '+this.options.indicatorWidth+"; height: "+this.options.indicatorHeight+"; background-color: "+s+'"></span>':"")+this.options.prefix+(i.length>3?n:t)+this.options.postfix,l+="</div>"})),l+="</div>",o.querySelector(".hs-chartjs-tooltip").innerHTML=l}var a=this._chart.canvas.getBoundingClientRect();o.style.opacity=1,this.options.lineMode?o.style.left=e.tooltip.caretX+"px":o.style.left=a.left+window.pageXOffset+e.tooltip.caretX-o.offsetWidth/2-3+"px",this.options.lineMode||(o.style.top=a.top+window.pageYOffset+e.tooltip.caretY-o.offsetHeight-25+"px"),o.style.pointerEvents="none",o.style.transition=this.options.transition}}}}},!0):s},destroy(t){let e=this._getSubject(t);if(e){e.$initializedEl.destroy();const o=e.$el.cloneNode(!0);if(e.$el.parentNode.replaceChild(o,e.$el),"number"==typeof t)this.collection.splice(t,1);else{const e=this.collection.findIndex((e=>e.id===t));this.collection.splice(e,1)}}},_getSubject(t){let e=null;return e="number"==typeof t?this.collection[t]:this.collection.find((e=>e.id===t)),e},_setTheme(t,e){const o=(t,e,i=!1)=>{t=(t=>{let e;try{e=JSON.parse(JSON.stringify(t))}catch(o){e=Object.assign({},t)}return e})(t);const n=t=>t&&"object"==typeof t;return n(t)&&n(e)?(Object.keys(e).forEach((s=>{const l=t[s],a=e[s];Array.isArray(l)&&Array.isArray(a)?i?(t[s]=l.map(((t,e)=>a.length<=e?t:o(t,a[e],i))),a.length>l.length&&(t[s]=t[s].concat(a.slice(l.length)))):t[s]=l.concat(a):n(l)&&n(a)?t[s]=o(Object.assign({},l),a,i):t[s]=a})),t):e};let i=localStorage.getItem("hs_theme")||window.hs_config.themeAppearance.layoutSkin;return"auto"===i&&(i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"),this.themes[e]&&i!==t.defaultThemeKey?o(t,this.themes[e][i],!0):t},_updateTheme(t){Object.keys(this.themes).forEach((t=>{let e=this.collection.findIndex((e=>e.id===t));e=e<0?t:e;const o=this.collection[e];if(o){let e=this.extendOptions(o.$el,o.options,o.dataSettings,t);o.$initializedEl.data=e.data,o.$initializedEl.options=e.options,this.lineMode(o.$el,e),o.$initializedEl.update()}}))},_init:function(t,e){const o=this;for(let t=0;t<o.collection.length;t+=1){let e,i;o.collection[t].hasOwnProperty("$initializedEl")||(i=o.collection[t].$el,e=o.extendOptions(i,o.collection[t].options,o.collection[t].dataSettings,t),o.lineMode(i,e),o.collection[t].$initializedEl=new Chart(i,e),o.extendChart(i,e,o.collection[t].$initializedEl))}}}
/*
* Chart.js wrapper
* @version: 3.0.0 (Mon, 27 Jun 2021)
* @requires: Chart.js v2.8.0
* @author: HtmlStream
* @event-namespace: .HSCore.components.HSCharJS
* @license: Htmlstream Libraries (https://htmlstream.com/licenses)
* Copyright 2021 Htmlstream
*/,HSCore.components.HSChartMatrixJS={dataAttributeName:"data-hs-chartjs-options",defaults:{type:"matrix",options:{animation:{duration:0},responsive:!0,maintainAspectRatio:!1,plugins:{legend:!1,tooltip:{enabled:!1,mode:"nearest"}},gradientPosition:{x0:0,y0:0,x1:0,y1:0}}},defaultThemeKey:"default",collection:[],themes:{},init(t,e,o){const i=this;let n;n=t instanceof HTMLElement?[t]:t instanceof Object?t:document.querySelectorAll(t);for(let t=0;t<n.length;t+=1)i.addToCollection(n[t],e,o||n[t].id);if(!i.collection.length)return!1;window.addEventListener("on-hs-appearance-change",(t=>this._updateTheme(t.detail))),i._init()},addToCollection(t,e,o){this.collection.push({$el:t,id:o||null,options:e||{},dataSettings:t.hasAttribute(this.dataAttributeName)?JSON.parse(t.getAttribute(this.dataAttributeName)):{}})},addTheme(t,e,o){const i=t;this.themes.hasOwnProperty(i)?this.themes[i][e]=o:this.themes[i]={[e]:o}},getTheme(t,e){return this.themes[t]&&this.themes[t][e]||console.error(`The element '${t}' or theme '${e}' was not found in the HSChartjs theme list.`),this.themes[t][e]},getItems(){const t=this;let e=[];for(let o=0;o<t.collection.length;o+=1)e.push(t.collection[o].$initializedEl);return e},getItem(t){return"number"==typeof t?this.collection[t].$initializedEl:this.collection.find((e=>e.id===t)).$initializedEl},_init:function(t,e){const o=this;for(let t=0;t<o.collection.length;t+=1){let e,i;o.collection[t].hasOwnProperty("$initializedEl")||(i=o.collection[t].$el,e=o.extendOptions(i,o.collection[t].options,o.collection[t].dataSettings,t),o.backgroundColor(e),o.legend(e),o.tooltip(),o.collection[t].$initializedEl=new Chart(i,e))}},backgroundColor(t){t.options.hasOwnProperty("matrixBackgroundColord")&&t.data.datasets.forEach((function(e){e.backgroundColor=function(e){var o=e.dataset.data[e.dataIndex].v,i=((t.options.matrixBackgroundColord.hasOwnProperty("additionToValue")?t.options.matrixBackgroundColord.additionToValue:5)+o)/t.options.matrixBackgroundColord.accent;return 0==o.toFixed()&&t.options.matrixBackgroundColord.hasOwnProperty("nullColor")?Chart.helpers.color(t.options.matrixBackgroundColord.nullColor).rgbString():Chart.helpers.color(t.options.matrixBackgroundColord.color).alpha(i).rgbString()}}))},legend(t){if(t.options.hasOwnProperty("matrixLegend")){for(var e=t.data.datasets[0].data[0].v,o=t.data.datasets[0].data[0].v,i=1;i<t.data.datasets[0].data.length;i++)t.data.datasets[0].data[i].v<e&&(e=t.data.datasets[0].data[i].v),t.data.datasets[0].data[i].v>o&&(o=t.data.datasets[0].data[i].v);e=e.toFixed(),o=o.toFixed();var n=[],s=t.options.matrixLegend.hasOwnProperty("stepSize")?t.options.matrixLegend.stepSize:o/10,l=t.options.matrixBackgroundColord.hasOwnProperty("additionToValue")?t.options.matrixBackgroundColord.additionToValue:5,a=document.querySelector(t.options.matrixLegend.container);a.classList.add("hs-chartjs-matrix-legend"),a.insertAdjacentHTML("beforeend",`<li class="hs-chartjs-matrix-legend-min">${e}</li>`);for(i=0;i<o;){var r=(l+i)/t.options.matrixBackgroundColord.accent;n.push('<li class="hs-chartjs-matrix-legend-item" style="background-color: '+Chart.helpers.color(t.options.matrixBackgroundColord.color).alpha(r).rgbString()+'"></li>'),i+=s}a.insertAdjacentHTML("beforeend",n.join("")),t.options.matrixLegend.metric&&o>100&&(o=o<1e6?o/1e3+"k":o/1e6+"kk"),a.insertAdjacentHTML("beforeend",`<li class="hs-chartjs-matrix-legend-max">${o}</li>`)}},tooltip(){window.addEventListener("mousemove",(function(t){if(!t.target.closest("canvas")){let t=document.querySelector(".hs-chartjs-tooltip-matrix");t&&t.parentElement.removeChild(t)}}))},extendOptions(t,e,o,i){const n=(t,e,o=!1)=>{t=(t=>{let e;try{e=JSON.parse(JSON.stringify(t))}catch(o){e=Object.assign({},t)}return e})(t);const i=t=>t&&"object"==typeof t;return i(t)&&i(e)?(Object.keys(e).forEach((s=>{const l=t[s],a=e[s];Array.isArray(l)&&Array.isArray(a)?o?(t[s]=l.map(((t,e)=>a.length<=e?t:n(t,a[e],o))),a.length>l.length&&(t[s]=t[s].concat(a.slice(l.length)))):t[s]=l.concat(a):i(l)&&i(a)?t[s]=n(Object.assign({},l),a,o):t[s]=a})),t):e};let s=n(this.defaults,n(o,e,!0),!0);return s.options=this._setTheme(s.options,t.id||i),s.options.plugins.tooltip.external=function(t){var e=document.getElementById("chartjsTooltip");if(e||((e=document.createElement("div")).id="chartjsTooltip",e.style.opacity=0,e.classList.add("hs-chartjs-tooltip-wrap"),e.classList.add("hs-chartjs-tooltip-matrix"),e.innerHTML='<div class="hs-chartjs-tooltip"></div>',document.body.appendChild(e)),"matrix"!==s.type&&0===t.tooltip.opacity)return e.style.opacity=0,void e.remove();if(e.classList.remove("above","below","no-transform"),t.tooltip.yAlign?e.classList.add(t.tooltip.yAlign):e.classList.add("no-transform"),t.tooltip.body){var o=t.tooltip.title||[],i=t.tooltip.body.map((function(t){return t.lines})),n=new Date,l='<header class="hs-chartjs-tooltip-header">';o.forEach((function(t){l+=t+", "+n.getFullYear()})),l+='</header><div class="hs-chartjs-tooltip-body">',i.forEach((function(e,o){l+="<div>";var i=e[0],n=i,a=t.tooltip.labelColors[o].backgroundColor instanceof Object?t.tooltip.labelColors[o].borderColor:t.tooltip.labelColors[o].backgroundColor;l+=(s.options.plugins.tooltip.hasIndicator?'<span class="d-inline-block rounded-circle mr-1" style="width: '+s.options.plugins.tooltip.indicatorWidth+"; height: "+s.options.plugins.tooltip.indicatorHeight+"; background-color: "+a+'"></span>':"")+(i.length>3?n:e),l+="</div>"})),l+="</div>",e.querySelector(".hs-chartjs-tooltip").innerHTML=l}var a=this._chart.canvas.getBoundingClientRect();e.style.opacity=1,e.style.left=a.left+window.pageXOffset+t.tooltip.caretX-e.offsetWidth/2-3+"px",e.style.top=a.top+window.pageYOffset+t.tooltip.caretY-e.offsetHeight-25+"px",e.style.pointerEvents="none",e.style.transition=s.options.plugins.tooltip.transition},s},_setTheme(t,e){const o=(t,e,i=!1)=>{t=(t=>{let e;try{e=JSON.parse(JSON.stringify(t))}catch(o){e=Object.assign({},t)}return e})(t);const n=t=>t&&"object"==typeof t;return n(t)&&n(e)?(Object.keys(e).forEach((s=>{const l=t[s],a=e[s];Array.isArray(l)&&Array.isArray(a)?i?(t[s]=l.map(((t,e)=>a.length<=e?t:o(t,a[e],i))),a.length>l.length&&(t[s]=t[s].concat(a.slice(l.length)))):t[s]=l.concat(a):n(l)&&n(a)?t[s]=o(Object.assign({},l),a,i):t[s]=a})),t):e};let i=localStorage.getItem("hs_theme")||window.hs_config.themeAppearance.layoutSkin;return"auto"===i&&(i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"),this.themes[e]&&i!==this.defaultThemeKey?o(t,this.themes[e][i].options,!0):t},_updateTheme(t){Object.keys(this.themes).forEach((t=>{let e=this.collection.findIndex((e=>e.id===t));e=e<0?t:e;const o=this.collection[e];if(o){let e=this.extendOptions(o.$el,o.options,o.dataSettings,t);o.$initializedEl.data=e.data,o.$initializedEl.options=e.options,o.$initializedEl.update()}}))}}
/*
* HSTomSelect Plugin
* @version: 1.0.0 (Mon, 24 May 2021)
* @requires: tom-select 1.7.26
* @author: HtmlStream
* @event-namespace: .HSTomSelect
* @license: Htmlstream Libraries (https://htmlstream.com/)
* Copyright 2021 Htmlstream
*/,HSCore.components.HSTomSelect={dataAttributeName:"data-hs-tom-select-options",defaults:{dropdownWrapperClass:"tom-select-custom",searchInDropdown:!0,plugins:["change_listener","hs_smart_position"],hideSelected:!1,render:{option:function(t,e){return t.optionTemplate||`<div>${t.text}</div>>`},item:function(t,e){return t.optionTemplate||`<div>${t.text}</div>>`}}},collection:[],init(t,e,o){const i=this;let n;n=t instanceof HTMLElement?[t]:t instanceof Object?t:document.querySelectorAll(t);for(let t=0;t<n.length;t+=1)i.addToCollection(n[t],e,o||n[t].id);if(!i.collection.length)return!1;i._init()},addToCollection(t,e,o){const i=this;this.collection.push({$el:t,id:o||null,options:Object.assign({},i.defaults,t.hasAttribute(i.dataAttributeName)?JSON.parse(t.getAttribute(i.dataAttributeName)):{},e)})},getItems(){const t=this;let e=[];for(let o=0;o<t.collection.length;o+=1)e.push(t.collection[o].$initializedEl);return e},getItem(t){return"number"==typeof t?this.collection[t].$initializedEl:this.collection.find((e=>e.id===t)).$initializedEl},_init(){const t=this;for(let e=0;e<t.collection.length;e+=1){let o,i;t.collection[e].hasOwnProperty("$initializedEl")||(o=t.collection[e].options,i=t.collection[e].$el,o.plugins.hasOwnProperty("hs_smart_position")&&!i.closest(".modal")&&(o.dropdownParent="body"),i.hasAttribute("multiple")&&(o.plugins=[...o.plugins,"remove_button"]),o.searchInDropdown&&(o.plugins=[...o.plugins,"dropdown_input"]),TomSelect.define("hs_smart_position",(function(t){this.hook("after","setup",(function(){this.$menu=this.dropdown_content.parentElement,this.on("dropdown_open",(t=>{const e=t.getBoundingClientRect(),i=this.wrapper.getBoundingClientRect();e.bottom>window.innerHeight&&(t.style.top=parseInt(t.style.top)-(this.control.clientHeight+t.clientHeight+10)+"px"),t.style.opacity=0,setTimeout((()=>{const n=parseInt(t.style.width);n>i.width&&o.dropdownLeft&&(t.style.left=parseInt(t.style.left)-Math.abs(e.width-n)+"px"),t.style.opacity=1}))})),window.addEventListener("scroll",(()=>function(t){const e=t.$menu.getBoundingClientRect();e.bottom>window.innerHeight?t.$menu.style.top=`-${t.$menu.clientHeight+10}px`:e.top<0&&(t.$menu.style.top=null)}(this)))}))})),t.collection[e].$initializedEl=new TomSelect(i,o),o.hideSearch&&t.hideSearch(t.collection[e].$initializedEl,o),o.disableSearch&&t.disableSearch(t.collection[e].$initializedEl,o),o.width&&t.width(t.collection[e].$initializedEl,o),o.singleMultiple&&t.singleMultiple(t.collection[e].$initializedEl,o),o.hidePlaceholderOnSearch&&t.hidePlaceholderOnSearch(t.collection[e].$initializedEl,o),o.create&&t.openIfEmpty(t.collection[e].$initializedEl,o),o.hideSelectedFromField&&t.hideSelectedFromField(t.collection[e].$initializedEl,o),o.dropdownWidth&&t.dropdownWidth(t.collection[e].$initializedEl,o),t.renderPlaceholder(t.collection[e].$initializedEl,o),t.wrapContainer(t.collection[e].$initializedEl,o))}},hideSearch(t,e){t.control_input.parentElement.removeChild(t.control_input)},disableSearch(t,e){t.control_input.readOnly=!0},singleMultiple(t,e){t.control.classList.add("hs-select-single-multiple");const o=(t.control_input.getAttribute("placeholder")||e.placeholder).replace(/(<([^>]+)>)/gi,""),i=e=>{e.target.closest("[data-selectable].selected")&&(e.target.classList.remove("selected"),setTimeout((()=>{t.removeItem(e.target.getAttribute("data-value"),!1),t.refreshItems()})))},n=e=>{if(!t.wrapper.querySelector(".ts-selected-count")){const e=document.createElement("span");e.classList.add("ts-selected-count"),t.wrapper.querySelector(".ts-control").appendChild(e)}return t.wrapper.querySelector(".ts-selected-count").innerHTML=e};t.items.length&&(e.searchInDropdown?n(t.items.length?`${t.items.length} item(s) selected`:o):t.control_input.setAttribute("placeholder",`${t.items.length} item(s) selected`)),t.on("dropdown_open",(t=>{t.addEventListener("mouseup",i)})),t.on("dropdown_close",(t=>{window.removeEventListener("mouseup",i)})),t.on("item_add",(()=>{t.items.length&&(e.searchInDropdown?n(`${t.items.length} item(s) selected`):t.control_input.setAttribute("placeholder",`${t.items.length} item(s) selected`))})),t.on("item_remove",(()=>{t.items.length?e.searchInDropdown?n(`${t.items.length} item(s) selected`):t.control_input.setAttribute("placeholder",`${t.items.length} item(s) selected`):e.searchInDropdown?n(o):t.control_input.setAttribute("placeholder",o)}))},width(t,e){t.wrapper.style.maxWidth=e.width},hidePlaceholderOnSearch(t,e){const o=(t.control_input.getAttribute("placeholder")||e.placeholder).replace(/(<([^>]+)>)/gi,"");o&&(t.on("dropdown_open",(()=>{t.control_input.setAttribute("placeholder","")})),t.on("dropdown_close",(()=>{t.control_input.setAttribute("placeholder",o)})))},openIfEmpty(t,e){t.control_input.addEventListener("focus",(()=>{t.$menu.querySelector(".option")||(t.open(),setTimeout((()=>{t.$menu.style.display="block",t.$menu.querySelector(".ts-dropdown-content").append(t.render("no_results"))}),10))}))},hideSelectedFromField(t,e){t.on("item_select",onSelect),t.on("item_add",onSelect)},dropdownWidth(t,e){t.on("dropdown_open",(()=>t.$menu.style.width=e.dropdownWidth))},width(t,e){t.wrapper.style.width=e.width},renderPlaceholder(t,e){if(e.singleMultiple||t.items.length)return;const o=t.input.getAttribute("placeholder")||e.placeholder;if(e.searchInDropdown&&!e.hideSelected){let e=null;const i=function(){if(e=t.wrapper.querySelector(".ts-custom-placeholder"),t.items.length&&e)return e.parentElement&&e.parentElement.removeChild(e),e=null;t.items.length||e||n()},n=function(){t.items.length||(t.wrapper.querySelector(".ts-control").innerHTML=`<span class="ts-custom-placeholder">${o}</span>`,e=t.wrapper.querySelector(".ts-custom-placeholder"))};n(),t.on("change",i)}o&&(t.control_input.offsetParent?function(e){t.control_input.setAttribute("placeholder",e.replace(/(<([^>]+)>)/gi,""))}(o):function(e){const o=()=>{t.control.innerHTML=`<div class="ts-custom-placeholder">${e}</div>`};o(),t.on("change",(()=>{t.items.length&&(()=>{const e=t.wrapper.querySelector(".items .ts-custom-placeholder");e&&e.parentElement&&e.parentElement.removeChild(e)})(),t.items.length||o()}))}(o))},wrapContainer(t,e){var o=document.createElement("div");o.className+=e.dropdownWrapperClass,t.$menu.parentNode.insertBefore(o,t.$menu),o.appendChild(t.$menu)}}
/*
* Clipboard wrapper
* @version: 2.0.0 (Sat, 30 Jul 2021)
* @author: HtmlStream
* @event-namespace: .HSCore.components.HSClipboard
* @license: Htmlstream Libraries (https://htmlstream.com/licenses)
* Copyright 2021 Htmlstream
*/,HSCore.components.HSClipboard={collection:[],dataAttributeName:"data-hs-clipboard-options",defaults:{type:null,contentTarget:null,classChangeTarget:null,defaultClass:null,successText:null,successClass:null,originalTitle:null},init(t,e={},o){const i=this;let n;n=t instanceof HTMLElement?[t]:t instanceof Object?t:document.querySelectorAll(t);for(let t=0;t<n.length;t+=1)i.addToCollection(n[t],e,o||n[t].id);if(!i.collection.length)return!1;i._init()},_init:function(t,e){const o=this;for(let e=0;e<o.collection.length;e+=1){let i,n;if(o.collection[e].hasOwnProperty("$initializedEl"))continue;i=o.collection[e].options,n=o.collection[e].$el,i.contentTarget&&o.setShortcodes(n,i),n.closest(".modal")&&(i.container=n.closest(".modal")),o.collection[e].$initializedEl=new ClipboardJS(n,i),"tooltip"===i.type?i.instanceTooltip=bootstrap.Tooltip.getOrCreateInstance(n):"popover"===i.type&&(i.instancePopover=new bootstrap.Popover(n));const s=function(){i.instanceTooltip.tip.style.display="none",n.setAttribute("data-bs-original-title",i.title),i.instanceTooltip.setContent(),setTimeout((()=>{i.instanceTooltip.tip.style.display="block"}),100),n.removeEventListener("mouseleave",s)};o.collection[e].$initializedEl.on("success",(()=>{if(i.successText||i.successClass){if(i.successText&&("tooltip"===i.type?(n.setAttribute("data-bs-original-title",i.successText),i.instanceTooltip.setContent(),i.instanceTooltip.show(),n.addEventListener("mouseleave",s)):"popover"===i.type?(t.setAttribute("data-bs-original-title",i.successText),i.instancePopover.show(),n.addEventListener("mouseleave",(()=>{n.setAttribute("data-bs-original-title",i.title),i.instancePopover.hide()}))):(n.lastChild.nodeValue=" "+i.successText+" ",setTimeout((function(){n.lastChild.nodeValue=i.defaultText}),800))),i.successClass)if(i.classChangeTarget){let t=document.querySelector(i.classChangeTarget);if(!t)return;t.classList.remove(i.defaultClass),t.classList.add(i.successClass),setTimeout((function(){t.classList.remove(i.successClass),t.classList.add(i.defaultClass)}),800)}else n.classList.remove(i.defaultClass),n.classList.add(i.successClass),setTimeout((function(){n.classList.remove(i.successClass),n.classList.add(i.defaultClass)}),800);if("cut"===i.action){const t=document.querySelector(i.contentTarget);t&&"TEXTAREA"===t.nodeName&&(t.value="")}}}))}},setShortcodes(t,e){let o=e,i=document.querySelector(o.contentTarget);"SELECT"===i.tagName||"INPUT"===i.tagName||"TEXTAREA"===i.tagName?o.shortcodes[o.contentTarget]=i.value:o.shortcodes[o.contentTarget]=i.outerHTML},addToCollection(t,e,o){e=Object.assign({shortcodes:{}},this.defaults,t.hasAttribute(this.dataAttributeName)?JSON.parse(t.getAttribute(this.dataAttributeName)):{},e),this.collection.push({$el:t,id:o||null,options:Object.assign({},e,{windowWidth:window.outerWidth,defaultText:t.lastChild.nodeValue,title:t.getAttribute("data-bs-original-title"),container:!!this.defaults.container&&document.querySelector(this.defaults.container),text:t=>{var o=JSON.parse(t.getAttribute("data-hs-clipboard-options"));return e.shortcodes[o.contentTarget]}})})},getItems(){const t=this;let e=[];for(let o=0;o<t.collection.length;o+=1)e.push(t.collection[o].$initializedEl);return e},getItem(t){return"number"==typeof t?this.collection[t].$initializedEl:this.collection.find((e=>e.id===t)).$initializedEl}}
/*
* Custombox wrapper
* @Datatables: 2.0.0 (Mon, 25 Nov 2019)
* @requires: jQuery v3.0 or later, DataTables v1.10.20
* @author: HtmlStream
* @event-namespace: .HSCore.components.HSDatatables
* @license: Htmlstream Libraries (https://htmlstream.com/licenses)
* Copyright 2020 Htmlstream
*/,HSCore.components.HSDatatables={collection:[],dataAttributeName:"data-hs-datatables-options",defaults:{paging:!0,info:{currentInterval:null,totalQty:null,divider:" to "},isSelectable:!1,isColumnsSearch:!1,isColumnsSearchTheadAfter:!1,pagination:null,paginationClasses:"pagination datatable-custom-pagination",paginationLinksClasses:"page-link",paginationItemsClasses:"page-item",paginationPrevClasses:"page-item",paginationPrevLinkClasses:"page-link",paginationPrevLinkMarkup:'<span aria-hidden="true">Prev</span>',paginationNextClasses:"page-item",paginationNextLinkClasses:"page-link",paginationNextLinkMarkup:'<span aria-hidden="true">Next</span>',detailsInvoker:null,select:null},init(t,e,o){const i=this;let n;n=t instanceof HTMLElement?[t]:t instanceof Object?t:document.querySelectorAll(t);for(let t=0;t<n.length;t+=1)i.addToCollection(n[t],e,o||n[t].id);if(!i.collection.length)return!1;i._init()},addToCollection(t,e,o){this.collection.push({$el:t,id:o||null,options:Object.assign({},this.defaults,t.hasAttribute(this.dataAttributeName)?JSON.parse(t.getAttribute(this.dataAttributeName)):{},e)})},getItems(){const t=this;let e=[];for(let o=0;o<t.collection.length;o+=1)e.push(t.collection[o].$initializedEl);return e},getItem(t){return"number"==typeof t?this.collection[t].$initializedEl:this.collection.find((e=>e.id===t)).$initializedEl},_init(){const t=this;for(let i=0;i<t.collection.length;i+=1){let n,s;if(!t.collection[i].hasOwnProperty("$initializedEl")){n=t.collection[i].options,s=$(t.collection[i].$el),t.collection[i].$initializedEl=s.DataTable(n);var e=new $.fn.dataTable.Api(s),o=function(){var t=e.page.info(),o=$("#"+e.context[0].nTable.id+"_paginate"),i=o.find(".paginate_button.previous"),l=o.find(".paginate_button.next"),a=o.find(".paginate_button:not(.previous):not(.next), .ellipsis");i.wrap('<span class="'+n.paginationItemsClasses+'"></span>'),i.addClass(n.paginationPrevLinkClasses).html(n.paginationPrevLinkMarkup),l.wrap('<span class="'+n.paginationItemsClasses+'"></span>'),l.addClass(n.paginationNextLinkClasses).html(n.paginationNextLinkMarkup),i.unwrap(i.parent()).wrap('<li class="paginate_item '+n.paginationItemsClasses+'"></li>'),i.hasClass("disabled")&&(i.removeClass("disabled"),i.parent().addClass("disabled")),l.unwrap(l.parent()).wrap('<li class="paginate_item '+n.paginationItemsClasses+'"></li>'),l.hasClass("disabled")&&(l.removeClass("disabled"),l.parent().addClass("disabled")),a.unwrap(a.parent()),a.each((function(){$(this).hasClass("current")?($(this).removeClass("current"),$(this).wrap('<li class="paginate_item '+n.paginationItemsClasses+' active"></li>')):$(this).wrap('<li class="paginate_item '+n.paginationItemsClasses+'"></li>')})),a.addClass(n.paginationLinksClasses),o.prepend('<ul id="'+e.context[0].nTable.id+'_pagination" class="'+n.paginationClasses+'"></ul>'),o.find(".paginate_item").appendTo("#"+e.context[0].nTable.id+"_pagination"),t.pages<=1?$("#"+n.pagination).hide():$("#"+n.pagination).show(),n.info.currentInterval&&$(n.info.currentInterval).html(t.start+1+n.info.divider+t.end),n.info.totalQty&&$(n.info.totalQty).html(t.recordsDisplay),n.scrollY&&s.find($(".dataTables_scrollBody thead tr")).css({visibility:"hidden"})};o(),t.collection[i].$initializedEl.on("draw",o),t.customPagination(s,t.collection[i].$initializedEl,n),t.customSearch(s,t.collection[i].$initializedEl,n),n.isColumnsSearch&&t.customColumnsSearch(s,t.collection[i].$initializedEl,n),t.customEntries(s,t.collection[i].$initializedEl,n),n.isSelectable&&t.rowChecking(s),t.details(s,n.detailsInvoker,t.collection[i].$initializedEl),n.select&&t.select(n.select,t.collection[i].$initializedEl)}}},customPagination:function(t,e,o){$("#"+o.pagination).append($("#"+e.context[0].nTable.id+"_paginate"))},customSearch:function(t,e,o){var i=o;$(i.search).on("keyup",(function(t){e.search(this.value).draw()})),$(i.search).on("input",(function(t){t.target.value||e.search("").draw()}))},customColumnsSearch:function(t,e,o){var i=o;e.columns().every((function(){var t=this;i.isColumnsSearchTheadAfter&&$(".dataTables_scrollFoot").insertAfter(".dataTables_scrollHead"),$("input",this.footer()).on("keyup change",(function(){t.search()!==this.value&&t.search(this.value).draw()})),$("select",this.footer()).on("change",(function(){t.search()!==this.value&&t.search(this.value).draw()}))}))},customEntries:function(t,e,o){$(o.entries).on("change",(function(){var t=$(this).val();e.page.len(t).draw()}))},rowChecking:function(t){$(t).on("change","input",(function(){$(this).parents("tr").toggleClass("checked")}))},format:function(t){return t},details:function(t,e,o){if(e){var i=this;$(t).on("click",e,(function(){var t=$(this).closest("tr"),e=o.row(t);e.child.isShown()?(e.child.hide(),t.removeClass("opened")):(e.child(i.format(t.data("details"))).show(),t.addClass("opened"))}))}},select:function(t,e){$(t.classMap.checkAll).on("click",(function(){$(this).is(":checked")?(e.rows().select(),e.rows().nodes().each((function(e){$(e).find(t.selector).prop("checked",!0)}))):(e.rows().deselect(),e.rows().nodes().each((function(e){$(e).find(t.selector).prop("checked",!1)})))})),e.on("select",(function(){$(t.classMap.counter).text(e.rows(".selected").data().length),e.rows().data().length!==e.rows(".selected").data().length?$(t.classMap.checkAll).prop("checked",!1):$(t.classMap.checkAll).prop("checked",!0),0===e.rows(".selected").data().length?$(t.classMap.counterInfo).hide():$(t.classMap.counterInfo).show()})).on("deselect",(function(){$(t.classMap.counter).text(e.rows(".selected").data().length),e.rows().data().length!==e.rows(".selected").data().length?$(t.classMap.checkAll).prop("checked",!1):$(t.classMap.checkAll).prop("checked",!0),0===e.rows(".selected").data().length?$(t.classMap.counterInfo).hide():$(t.classMap.counterInfo).show()}))}};